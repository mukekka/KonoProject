!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([,function(e,t){"object"!=typeof _paq&&(_paq=[]),window.JB_TRACKER=null,function(){function e(e){"use strict";function t(){for(var e in this.options)this._paq.push([e,this.options[e]])}function n(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function i(){var e,t=arguments[0],i=!1,o=new Date;if(e=r()?JSON.parse(localStorage.getItem(this.options.sessionName))||!1:n(this.options.sessionName)||!1){if(e.visitor.lastVisitedPageTime=o.getTime(),o.getTime()>e.visitor.expiresOn)return this.sendPack(!0),!1;e.visitor.expiresOn=Number(o.getTime())+Number(this.options.sessionDuration);for(var s=0;s<e.visitor.trackedUrls.length;s++)e.visitor.trackedUrls[s].href!=t.href||(i=!0);if(!i)if(e.visitor.trackedUrls.push(t),r())localStorage.setItem(this.options.sessionName,JSON.stringify(e));else{var a=new Date(e.visitor.expiresOn);document.cookie=this.options.sessionName+"="+JSON.stringify(e)+"; expires="+a.toUTCString()}}return e}function o(e,t){var n,i=!!e&&JSON.parse(localStorage.getItem(this.options.sessionName)),o=i?i.visitor.trackedUrls:arguments[2],a=e||c(o.href,"jbToken")||c(o.href,"jbtoken"),u=new Date;if(!a)return!1;if(n={visitor:{uuid:s(),trackedUrls:i?o:[o],expiresOn:Number(u.getTime())+Number(this.options.sessionDuration),createdOn:u.getTime(),clientToken:this.options.clientToken,jbtoken:a||"",sentFirstTime:0,lastSendIntent:0,lastVisitedPageTime:u.getTime(),userAgent:navigator.userAgent||"",trackedType:t}},r())localStorage.setItem(this.options.sessionName,JSON.stringify(n));else{var p=new Date(n.visitor.expiresOn);document.cookie=this.options.sessionName+"="+JSON.stringify(n)+"; expires="+p.toUTCString()}return n}function s(){return p((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random())}function r(){return"undefined"!=typeof Storage}function a(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e}function c(e,t){var n="[\\?&#]"+t+"=([^&#]*)",i=new RegExp(n),o=i.exec(e);return o?o[1]:""}function u(e){return unescape(window.encodeURIComponent(e))}function p(e){var t,n,i,o,s,r,a,c,p,l,h=function(e,t){return e<<t|e>>>32-t},d=function(e){var t,n,i="";for(t=7;t>=0;t--)n=e>>>4*t&15,i+=n.toString(16);return i},f=[],g=1732584193,m=4023233417,v=2562383102,S=271733878,k=3285377520,w=[];for(e=u(e),l=e.length,n=0;n<l-3;n+=4)i=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),w.push(i);switch(3&l){case 0:n=2147483648;break;case 1:n=e.charCodeAt(l-1)<<24|8388608;break;case 2:n=e.charCodeAt(l-2)<<24|e.charCodeAt(l-1)<<16|32768;break;case 3:n=e.charCodeAt(l-3)<<24|e.charCodeAt(l-2)<<16|e.charCodeAt(l-1)<<8|128}for(w.push(n);14!=(15&w.length);)w.push(0);for(w.push(l>>>29),w.push(l<<3&4294967295),t=0;t<w.length;t+=16){for(n=0;n<16;n++)f[n]=w[t+n];for(n=16;n<=79;n++)f[n]=h(f[n-3]^f[n-8]^f[n-14]^f[n-16],1);for(o=g,s=m,r=v,a=S,c=k,n=0;n<=19;n++)p=h(o,5)+(s&r|~s&a)+c+f[n]+1518500249&4294967295,c=a,a=r,r=h(s,30),s=o,o=p;for(n=20;n<=39;n++)p=h(o,5)+(s^r^a)+c+f[n]+1859775393&4294967295,c=a,a=r,r=h(s,30),s=o,o=p;for(n=40;n<=59;n++)p=h(o,5)+(s&r|s&a|r&a)+c+f[n]+2400959708&4294967295,c=a,a=r,r=h(s,30),s=o,o=p;for(n=60;n<=79;n++)p=h(o,5)+(s^r^a)+c+f[n]+3395469782&4294967295,c=a,a=r,r=h(s,30),s=o,o=p;g=g+o&4294967295,m=m+s&4294967295,v=v+r&4294967295,S=S+a&4294967295,k=k+c&4294967295}return p=d(g)+d(m)+d(v)+d(S)+d(k),p.toLowerCase()}if(this.debugParam=c(window.document.URL,"apTestApi"),this.debugApi=c(window.document.URL,"devapi"),this.debugParam)return function(){var e,t=decodeURIComponent(c(window.document.URL,"url"));try{e=window.XMLHttpRequest?new XMLHttpRequest:null,e.open("POST","https://aproapi.benchmarkemail.com/api/v1/tracker/test",!0),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","OAuth 4B6AA6FB-73AC-44CF-B4E3-BC96BD1A3024"),e.send(JSON.stringify({SiteUrl:t})),e.onreadystatechange=function(){4===e.readyState&&e.status}}catch(e){this.debug(e)}}(),!1;this.debugMode=!1,this._paq=e||[],this.options={clientToken:function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i][0]]=e[i][1];for(var o in n)if("clientToken"===o)return n[o];return!1}(this._paq)||"",sessionDuration:5184e6,sendDataEvery:6e4,endPointUrl:"https://aproapi.benchmarkemail.com/api/v1/trackers/"},"true"==this.debugApi&&(this.options.endPointUrl="https://aproapi.beta.benchmarkemail.com/api/v1/trackers/"),this.options.sessionName="jb-tracker-session-"+this.options.clientToken,this.countInterval=0;var l,h,d;if(t.apply(this),l=function(e,t){var n=new Date;return e||(e=""),t||(t=""),"translate.googleusercontent.com"===e?(t=c(t,"u"),e=a(t)):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e&&"74.6."!==e.slice(0,5)||(t=document.links[0].href,e=a(t)),{host:e,href:t,trackTime:n.getTime()}}(function(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),-1!==e.indexOf("/")&&(e=e.substr(0,e.indexOf("/"))),e}(document.domain),window.location.href),this.session=i.call(this,l)||o.call(this,null,1,l),this.createNewSession=o,!this.session)return!1;"onhashchange"in window&&this.trackerHashChange(),0===this.session.visitor.sentFirstTime&&(this.session.visitor.sentFirstTime=1,this.sendPack(!1)),h=6e4,d=this.session.visitor.lastVisitedPageTime-this.session.visitor.lastSendIntent,d>=h&&this.session.visitor.lastSendIntent>0&&this.sendPack(!1),this.setPushDataInterval()}e.prototype.endSession=function(){"undefined"!=typeof Storage?localStorage.removeItem(this.options.sessionName):document.cookie=this.options.sessionName+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"},e.prototype.resetTrackingProps=function(){this.session.visitor.trackedUrls=[],this.updateSession()},e.prototype.setLastSendIntent=function(){var e=new Date;this.session.visitor.lastSendIntent=e.getTime(),this.updateSession()},e.prototype.updateSession=function(){if("undefined"!=typeof Storage)localStorage.setItem(this.options.sessionName,JSON.stringify(this.session));else{var e=new Date(this.session.visitor.expiresOn);document.cookie=this.options.sessionName+"="+JSON.stringify(this.session)+"; expires="+e.toUTCString()}},e.prototype.sendPack=function(e){var t,n,i,o;if(this.countInterval+=1,t=this,o=t.checkIfLocalStorageSupport()?JSON.parse(localStorage.getItem(t.options.sessionName))||{}:getCookie(t.options.sessionName)||{},o.visitor&&o.visitor.trackedUrls.length>0){t.setLastSendIntent();try{n=window.XMLHttpRequest?new XMLHttpRequest:null,i=this.countInterval,n.open("POST",this.options.endPointUrl,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization","OAuth "+o.visitor.clientToken),n.send(JSON.stringify(o.visitor)),n.onreadystatechange=function(){4===n.readyState&&(200===n.status?"object"==typeof console&&(e||t.resetTrackingProps()):i>4&&clearInterval(t.interval))}}catch(e){this.debug(e)}e&&this.endSession()}},e.prototype.addEventListeningForEmails=function(){var e=document.querySelectorAll("input[type=text]"),t=document.querySelectorAll("textarea"),n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=this;if(e.length>0)for(var o=0;o<e.length;o++)e[o].onkeyup=function(){var e=!1;if(n.test(this.value)){for(var t=0;t<i.session.visitor.email.length;t++)i.session.visitor.email[t]==this.value&&(e=!0);!0!==e&&(i.session.visitor.email.push(this.value),i.updateSession())}};if(t.length>0)for(var s=0;s<t.length;s++)t[s].onkeyup=function(){var e=this.value.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi),t=!1;if(e){for(var n=0;n<i.session.visitor.email.length;n++)i.session.visitor.email[n]==e[0]&&(t=!0);!0!==t&&(i.session.visitor.email.push(e[0]),i.updateSession())}}},e.prototype.setPushDataInterval=function(){var e=this;e.interval=setInterval(function(){var t=new Date,n=t.getTime()>e.session.visitor.expiresOn;e.sendPack(n)},this.options.sendDataEvery)},e.prototype.trackerHashChange=function(){var e=this;window.addEventListener("hashchange",function(t){var n,i=!1,o=e.urlFixUp(e.domainFixUp(document.domain),window.location.href),s=new Date;if(n=e.checkIfLocalStorageSupport()?JSON.parse(localStorage.getItem(e.options.sessionName))||!1:getCookie(e.options.sessionName)||!1){n.visitor.lastVisitedPageTime=s.getTime();for(var r=0;r<n.visitor.trackedUrls.length;r++)n.visitor.trackedUrls[r].href!=o.href||(i=!0);if(!i)if(n.visitor.trackedUrls.push(o),e.checkIfLocalStorageSupport())localStorage.setItem(e.options.sessionName,JSON.stringify(n));else{var a=new Date(n.visitor.expiresOn);document.cookie=e.options.sessionName+"="+JSON.stringify(n)+"; expires="+a.toUTCString()}}})},e.prototype.urlFixUp=function(e,t){var n=new Date;return e||(e=""),t||(t=""),"translate.googleusercontent.com"===e?(t=getParameter(t,"u"),e=getHostName(t)):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e&&"74.6."!==e.slice(0,5)||(t=document.links[0].href,e=getHostName(t)),{host:e,href:t,trackTime:n.getTime()}},e.prototype.domainFixUp=function(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),-1!==e.indexOf("/")&&(e=e.substr(0,e.indexOf("/"))),e},e.prototype.checkIfLocalStorageSupport=function(){return"undefined"!=typeof Storage},e.prototype.debug=function(e){"object"==typeof console&&1==this.debugMode&&console.log(e)},e.prototype.jbSubmitForm=function(e){var t,n=this;try{t=window.XMLHttpRequest?new XMLHttpRequest:null,t.open("POST","https://aproapi.benchmarkemail.com/api/v1/token/gettoken",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","OAuth 68d362b1-6481-48e7-aa8b-2a9de5fda0e6"),t.send(JSON.stringify({EmailAddress:e.email})),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=n.urlFixUp(n.domainFixUp(document.domain),window.location.href);n.createNewSession.call(n,JSON.parse(t.response),2,e)}}}catch(e){this.debug(e)}},e.prototype.jbSubmitRegForm=function(e){var t,n=this;try{t=window.XMLHttpRequest?new XMLHttpRequest:null,t.open("POST","https://aproapi.benchmarkemail.com/api/v1/token/gettoken",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","OAuth 68d362b1-6481-48e7-aa8b-2a9de5fda0e6"),t.send(JSON.stringify({EmailAddress:e.email})),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=n.urlFixUp(n.domainFixUp(document.domain),window.location.href);n.createNewSession.call(n,JSON.parse(t.response),2,e)}}}catch(e){this.debug(e)}},e.prototype.ThrowEvent=function(e){var t;try{t=window.XMLHttpRequest?new XMLHttpRequest:null,t.open("POST","https://aproapi.beta.benchmarkemail.com/api/v1/tracker/events",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","OAuth 68d362b1-6481-48e7-aa8b-2a9de5fda0e6"),t.send(JSON.stringify({clientId:JB_TRACKER&&JB_TRACKER.options.clientToken,event:e.eventName,description:e.description||null,clickedButton:e.clickedButton||"default",userAgent:navigator&&navigator.userAgent||"unknown browser",baseUrl:window.location.href,clickedURL:e.clickedURL||null})),t.onreadystatechange=function(){4===t.readyState&&t.status}}catch(e){this.debug(e)}},document.body.addEventListener("click",function(t){var n=t.target.getAttribute("data-ap-tracker-follow");n&&e&&e.prototype.ThrowEvent({eventName:n,clickedButton:t.target.localName,baseUrl:window.location.href,clickedURL:t.target.getAttribute("href")})});try{window.JB_TRACKER=new e(_paq)||{}}catch(e){}}()}]);